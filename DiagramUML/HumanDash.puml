@startuml
class Game{
 
}

class HumanDashGame{
    - _runnerTexture : Texture2D
    - _slidingRunnerTexture : Texture2D
    - _decorTexture : Texture2D
    - _solTexture : Texture2D
    - _spriteSheet : Texture2D
    - _buttonPressSound : SoundEffect
    - _hitObstacleSound : SoundEffect
    - _previousKeyboardState : keyboardState
    - _graphics : GraphicsDeviceManager
    - _spriteBatch : SpriteBatch
    + HumanDashGame()
    - _player { get; set; } : Player
    - _entity { get; set; } : EntityManager
    - StartGame() : bool
    - game_replay(sender : object, e: EvenArgs) : void
    - avatar_JumComplete( sender : object, e : EventArgs) : void
    - avatar_Died( sender : object, e : EventArgs) : void
    # Initialize() : void
    # LoadContent() : void
    # Update() : void
    # Draw() : void 
}
class EntityManager {
    - _entities : List<IGameEntity>
    - _entitiesToAdd : List<IGameEntity>
    - _entitiesToRemote : List<IGameEntity>
    + EntityManager()
    + AddEntity(entity: IGameEntity) : void
    + RemoveEntity(entity: IGameEntity) : void
    + ClearEntity() : void
    + UpdateEntities(gameTime: GameTime) : void
    + DrawEntities(gameTime: GameTime, spriteBatch:SpriteBatch) : void
}

interface IGameEntity{
    + DrawOrder{ get; } : int
    + Update (gameTime: GameTime) : void
    + Draw (gameTime: GameTime, spriteBatch: SpriteBatch) : void
}


class ScoreBoard {
    +Score { get; set; } : int
    +HighScore { get; set; }: int
}

class Player {
    + PseudoName { get; set; } : String
    + Score { get; set; } : ScoreBoard
}

class Entity {
    Sprite { get; set; } : Sprite
}

class Avatar {
    - _nbLife : int 
    + State { get; } : AvatarState
    + Position { get; set; } : Vector2D
    + Speed { get; set; }
    + IsAlive { get; } : bool
    + NbLife { get; set; } : int
    + StartJump () : bool 
    + CancelJump () : bool
    + GetUp () : bool 
    + Drop () : bool 
    + Duck () : bool 
    + Die () : bool
}

enum AvatarState{
    Idle
    Jumping
    Falling
    Running
    Sliding
}

enum GameState {
    Initial
    Transition
    Playing
    GameOne
}

class Sprite{
    + Sprite (texture : Texture2D, x : int, y : int, width : int, height : int)
    + Texture { get; set; } : Texture2D
    + X { get; set; } : int
    + Y { get; set; } : int
    + Width { get; set; } : int
    + Height { get; set; } : int
    + Draw(spriteBatch:SpriteBatch) : void
}

class SpriteAnimationFrame{
    + Sprite { get; set; }
    + TimeStamp { get; } : double
}

class SpriteAnimation{
    - _frames: List<SpriteAnimationFrame>
    + isPlaying { get; set; } : bool
    + playbackProgress { get; set; } : double
    + CurrentFrame { get; } : SpriteAnimationFrame
    + Duration { get; } : double
    +AddFrame(spite : Sprite, timeStamp : Double) : void
    + Update (gameTime: GameTime) : void
    + Start() : void
    + Stop () : void
    + GetFrame(index: int) : SpriteAnimationFrame    
}

class InputController{
    - _avatar : Avatar
    - _previousKeyboardState : keyboardState
    + InputController(avatar : Avatar)
    + ProcessControls(gameTime: GameTime) : void
    
}

interface ICollidable {
    + CollisionBox { get; } : Rectangle
}

enum ObstacleType {
    Panel 
    StopPanel
    Trash
}

enum TrashSize {
    Small
    Medium
    Large
}

class GameOverScreen {
    - _textSprite : Sprite
    - _buttonSprite : Sprite
    + GameOverScreen (texture : Texture2D)
    - ButtonBounds { get; } : Rectangle
    - ButtonPosition { get; } : Vector2
    + Position { get; set; } Vector2
    + IsEnabled { get; set; } : bool
    +Replay : EventHandler
    
}
class GroundObstacle{
    
}

class FlyingObstacle{

}

class ObstacleManager{

}

class DecorManager {
    
}

class GroundManager {
    - _groundTiles : List<GroundTiles>
    - _random : _random
    - _avatar : Avatar
    + GroundManager(groundTileTexture : Texture2D, avatar: Avatar)
    - createGroundTiles(GroundTileTexture : Texture2D) : void
    - Initialize() : void
    - SpawnTile(GroundTile : GroundTile) : void
    - GetRightMostTilePosition() : float
}

class GroundTile{
    
}
  
Game <|-- HumanDashGame

Entity <|-- Decor
Entity <|-- Obstacle
Entity <|-- Avatar
Entity <|-- GroundTile

Obstacle <|-- GroundObstacle
Obstacle <|-- FlyingObstacle

IGameEntity <|.. Entity
IGameEntity <|.. Decor
IGameEntity <|.. EntityManager
IGameEntity <|.. ScoreBoard
IGameEntity <|.. GroundTile
IGameEntity <|.. GroundManager

HumanDashGame o--> Player 

Player o--> ScoreBoard

EntityManager *--> HumanDashGame

DecorManager *--> Decor

Avatar o--> AvatarState

SpriteAnimation *--> SpriteAnimationFrame

SpriteAnimationFrame o--> Sprite

ObstacleManager *--> Obstacle

Entity o--> Sprite

GroundManager *--> GroundTile

@enduml
